{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","CheckoutProduct.js","Subtotal.js","Checkout.js","Login.js","axios.js","Payment.js","Order.js","Orders.js","App.js","reducer.js","index.js"],"names":["StateContext","createContext","StateProvider","_ref","reducer","initialState","children","react_default","a","createElement","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","_useStateValue","_useStateValue2$","Object","slicedToArray","basket","user","className","react_router_dom","to","src","alt","type","Search_default","onClick","signOut","email","ShoppingBasket_default","length","Product","id","title","image","price","rating","_useStateValue2","dispatch","Array","fill","map","Star_default","item","Home","Fragment","src_Header","src_Product","CheckoutProducts","hideButton","_","i","Subtotal","navigate","useNavigate","currency_format_default","renderText","decimalScale","reduce","amount","getBasketTotal","displayType","thousandSeparator","prefix","e","Checkout","checkout__left","CheckoutProduct","src_Subtotal","Login","_useState","useState","_useState2","setEmail","_useState3","_useState4","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","console","log","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","setError","disabled","setDisabled","_useState5","_useState6","succeeded","setSucceeded","_useState7","_useState8","processing","setProcessing","_useState9","_useState10","clientSecret","setClientSecret","useEffect","asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","method","url","concat","sent","data","stop","apply","this","arguments","getClientSecret","handleSubmit","_ref2","_callee2","event","_context2","confirmCardPayment","payment_method","card","getElement","CardElement","_ref3","paymentIntent","collection","doc","uid","set","created","_x","onSubmit","react_stripe_umd","empty","Order","order","moment","unix","format","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","src_Order","promise","loadStripe","App","objectDestructuringEmpty","onAuthStateChanged","authUser","react_router","path","element","src_Login","src_Payment","src_Checkout","src_Orders","src_Home","state","action","objectSpread","toConsumableArray","index","findIndex","basketItem","newBasket","splice","warn","ReactDOM","createRoot","document","getElementById","render","StrictMode","StateProvider_StateProvider","src_App"],"mappings":"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","file":"static/js/main.2b4f4f6c.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\n// Prepares the dataLayer\r\nexport const StateContext = createContext();\r\n\r\n// Wrap our app and provide the Data layer\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n);\r\n\r\n// Pull information from the data layer\r\nexport const useStateValue = () => useContext(StateContext);\r\n","// Import the functions you need from the SDKs you need\r\n\r\nimport firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/auth\";\r\nimport \"firebase/compat/firestore\";\r\n\r\n\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDSiltoPxtoVcKoRrLa4vPAzyEGntBDm14\",\r\n  authDomain: \"my-project-3d62b.firebaseapp.com\",\r\n  projectId: \"my-project-3d62b\",\r\n  storageBucket: \"my-project-3d62b.appspot.com\",\r\n  messagingSenderId: \"841729290062\",\r\n  appId: \"1:841729290062:web:edbab5bd56054cecdcb81f\",\r\n  measurementId: \"G-4BJHFVKK3S\",\r\n};\r\n\r\n\r\n// Initialize Firebase\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\nexport { db, auth };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\n import SearchIcon from '@mui/icons-material/Search';\r\nimport ShoppingBasketIcon from \"@mui/icons-material/ShoppingBasket\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction Header() {\r\n  const [{ basket, user }] = useStateValue();\r\n  const handleAuthenticaton = () => {\r\n    if (user) {\r\n      auth.signOut();\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"header\">\r\n      <Link to=\"/\">\r\n        <img\r\n          className=\"header__logo\"\r\n          src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\" alt=\"logo\"\r\n        />\r\n      </Link>\r\n\r\n      <div className=\"header__search\">\r\n        <input className=\"header__searchInput\" type=\"text\" />\r\n        <SearchIcon className=\"header__searchIcon\" />\r\n      </div>\r\n      <div className=\"header__nav\">\r\n        <Link to={!user && \"/login\"} className=\"header__clearlink\">\r\n          <div onClick={handleAuthenticaton} className=\"header__option\">\r\n            <span className=\"header__optionLineOne\">\r\n              Hello {!user ? \"Guest\" : user.email}\r\n            </span>\r\n            <span className=\"header__optionLineTwo\">\r\n              {\" \"}\r\n              {user ? \"Sign Out\" : \"Sign In\"}{\" \"}\r\n            </span>\r\n          </div>\r\n        </Link>\r\n        <Link to=\"/orders\" className=\"header__clearlink\">\r\n          \r\n        <div className=\"header__option\">\r\n          <span className=\"header__optionLineOne\">Returns</span>\r\n          <span className=\"header__optionLineTwo\"> & Orders </span>\r\n          </div>\r\n          </Link>\r\n        <div className=\"header__option\">\r\n          <span className=\"header__optionLineOne\">Your</span>\r\n          <span className=\"header__optionLineTwo\"> Prime </span>\r\n        </div>\r\n        <Link to=\"/checkout\" className=\"header__clearlink\">\r\n          <div className=\"header__optionBasket\">\r\n            <ShoppingBasketIcon />\r\n            <span className=\"header__optionLineTwo header__basketCount\">\r\n              {basket.length}\r\n            </span>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react'\r\nimport './product.css'\r\nimport StarIcon from '@mui/icons-material/Star';\r\nimport { useStateValue } from './StateProvider';\r\n\r\n\r\nfunction Product({ id, title, image, price, rating }) {\r\n    const [{ basket }, dispatch] = useStateValue()\r\n    //console.log(\"this is the basket\", basket)\r\n    const addToBasket = () => {\r\n      // dispatch the item into the data layer\r\n      dispatch({\r\n        type: \"ADD_TO_BASKET\",\r\n        item: {\r\n          id: id,\r\n          title: title,\r\n          image: image,\r\n          price: price,\r\n          rating: rating,\r\n        },\r\n      });\r\n    }\r\n  return (\r\n    <div className=\"product\">\r\n      <div className=\"product__info\">\r\n        <p>{title}</p>\r\n        <p className=\"product__price\">\r\n          <small>$</small>\r\n          <strong>{price}</strong>\r\n        </p>\r\n        <div className=\"product__rating\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map(() => (\r\n              <StarIcon />\r\n            ))}{\" \"}\r\n        </div>\r\n      </div>\r\n      <img\r\n        src={image}\r\n        alt=\"picture\"\r\n      />\r\n      <button onClick={addToBasket}>Add to Basket</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Product","import React from 'react'\r\nimport Header from './Header';\r\nimport \"./home.css\"\r\nimport Product from './Product';\r\n\r\n\r\nfunction Home() {\r\n    return (\r\n      <>\r\n        <Header />\r\n        <div className=\"home\">\r\n          <div className=\"home__container\">\r\n            <img\r\n              className=\"home__image\"\r\n              src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\r\n              alt=\"\"\r\n            />\r\n            <div className=\"home__row\">\r\n              <Product\r\n                id=\"12321341\"\r\n                title=\"Women's Pajama Set Cotton Lounge Set V Neck Sleepwear Capri Pajama Pants Pjs Nightwear Short Top\"\r\n                price={31.99}\r\n                rating={4}\r\n                image=\"https://m.media-amazon.com/images/I/71ThTY5FkKL._AC_SR350,526_FMwebp_QL65_.jpg\"\r\n                alt=\"WebPage To JPG\"\r\n              />\r\n\r\n              <Product\r\n                id=\"49538094\"\r\n                title=\"Plush Lined Microfiber Bath Robe for Women / Men (Unisex) Luxury Spa, Hotel Robe\"\r\n                price={97.95}\r\n                rating={4}\r\n                image=\"https://m.media-amazon.com/images/I/61+-u66R3PL._AC_UY550_.jpg\"\r\n              />\r\n            </div>\r\n            <div className=\"home__row\">\r\n              <Product\r\n                id=\"4903850\"\r\n                title=\"SOLEJAZZ Pull Out Under Sink Cabinet Organizer, 2-Tier Sliding Storage Drawer Basket Organizer for Kitchen Bathroom, with Hooks, Hanging Cup, Dividers Multi-purpose Under Sink Shelf Organizer, White       \"\r\n                price={24.99}\r\n                rating={4}\r\n                image=\"https://m.media-amazon.com/images/I/71Tk6Fwcx9L._AC_SL1500_.jpg\"\r\n              />\r\n              <Product\r\n                id=\"23445930\"\r\n                title=\" JavaScript Coding for Teens: A Beginner's Guide to Developing Websites and Games \"\r\n                price={18.79}\r\n                rating={5}\r\n                image=\"https://images-na.ssl-images-amazon.com/images/I/515FgoKcCtL._SX403_BO1,204,203,200_.jpg\"\r\n              />\r\n              <Product\r\n                id=\"3254354345\"\r\n                title=\"New Apple iPad Pro (12.9-inch, Wi-Fi, 128GB) - Silver (4th Generation)\"\r\n                price={598.99}\r\n                rating={4}\r\n                image=\"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg\"\r\n              />\r\n            </div>\r\n            <div className=\"home__row\">\r\n              <Product\r\n                id=\"90829332\"\r\n                title=\"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440\"\r\n                price={1094.98}\r\n                rating={4}\r\n                image=\"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default Home;","import React from \"react\";\r\nimport \"./checkoutProduct.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\nfunction CheckoutProducts({ id, image, title, price, rating, hideButton }) {\r\n  const [{ basket }, dispatch] = useStateValue();\r\n  const removeFromBasket = () => {\r\n    dispatch( {\r\n      type: \"REMOVE_FROM_BASKET\",\r\n      id: id,\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"checkoutProduct\">\r\n      <img className=\"checkoutProduct__image\" src={image} />\r\n      <div className=\"checkoutProduct__info\">\r\n        <p className=\"checkoutProduct__title\">{title}</p>\r\n        <p className=\"checkoutProduct__price\">\r\n          <small>$</small>\r\n          <strong>{price}</strong>\r\n        </p>\r\n        <div className=\"checkoutProduct__rating\">\r\n          {Array(rating)\r\n            .fill()\r\n            .map((_, i) => (\r\n              <p>ðŸŒŸ</p>\r\n            ))}\r\n        </div>\r\n        {!hideButton && (\r\n          <button onClick={removeFromBasket}>Remove from Basket</button>\r\n        )}{\" \"}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CheckoutProducts;\r\n","import React from \"react\";\r\nimport \"./subtotal.css\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nfunction Subtotal() {\r\n  const navigate=useNavigate()\r\n  const [{ basket }] = useStateValue();\r\n  const getBasketTotal = (basket) =>\r\n    basket.reduce((amount, item) => item.price + amount, 0);\r\n\r\n  return (\r\n    <div className=\"subtotal\">\r\n      <CurrencyFormat\r\n        renderText={(value) => (\r\n          <div>\r\n            <p>\r\n              Subtotal ({basket.length} items): <strong>{value}</strong>\r\n            </p>\r\n            <small className=\"subtotal__gift\">\r\n              <input type=\"checkbox\" /> This order contains a gift\r\n            </small>\r\n          </div>\r\n        )}\r\n        decimalScale={2}\r\n        value={getBasketTotal(basket)}\r\n        displayType={\"text\"}\r\n        thousandSeparator={true}\r\n        prefix={\"$\"}\r\n      />\r\n      <button onClick={(e)=>navigate('/payment')}>\r\n      Proceed to Checkout\r\n    </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Subtotal;\r\n\r\n","import React from 'react'\r\nimport \"./checkout.css\"\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport Header from './Header';\r\nimport { useStateValue } from './StateProvider';\r\nimport Subtotal from './Subtotal';\r\nfunction Checkout() {\r\n    const [{ basket, user }] = useStateValue();\r\n    return (\r\n      <>\r\n        <Header />\r\n        <div className=\"checkout\">\r\n          <div checkout__left>\r\n            <img\r\n              className=\"checkout__ad\"\r\n              src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\r\n              alt=\"\"\r\n            />\r\n            <div>\r\n              <h3>Hello {user.email}</h3>\r\n              <h2 className=\"checkout__title\">Your shopping Basket</h2>\r\n\r\n              {basket.map((item) => (\r\n                <CheckoutProduct\r\n                  id={item.id}\r\n                  title={item.title}\r\n                  image={item.image}\r\n                  price={item.price}\r\n                  rating={item.rating}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"checkout__right\">\r\n            <Subtotal />\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default Checkout","import React, { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { auth } from './firebase';\r\nimport \"./login.css\";\r\n\r\nfunction Login() {\r\n     const navigate = useNavigate();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const signIn = (e) => {\r\n    e.preventDefault();\r\n        auth.signInWithEmailAndPassword(email, password)\r\n          .then((auth) => {\r\n            navigate(\"/\");\r\n          })\r\n          .catch((error) => alert(error.message));\r\n  };\r\n  const register = (e) => {\r\n    e.preventDefault();\r\n        auth.createUserWithEmailAndPassword(email, password)\r\n          .then((auth) => {\r\n             console.log(auth)\r\n            if (auth) {\r\n              navigate(\"/\");\r\n            }\r\n          })\r\n          .catch((error) => console.log(error.message));\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <Link to=\"/\">\r\n        <img\r\n          className=\"login__logo\"\r\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\" alt=\"logo\"/>\r\n      </Link>\r\n      <div className=\"login__container\">\r\n        <h1>Sign-in</h1>\r\n\r\n        <form>\r\n          <h5>E-mail</h5>\r\n          <input\r\n            type=\"text\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n\r\n          <h5>Password</h5>\r\n          <input\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}/>\r\n\r\n          <button type=\"submit\" onClick={signIn}className=\"login__signInButton\">\r\n            Sign In</button>\r\n        </form>\r\n\r\n        <p>\r\n          By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use &\r\n          Sale. Please see our Privacy Notice, our Cookies Notice and our\r\n          Interest-Based Ads Notice.\r\n        </p>\r\n\r\n        <button onClick={register} className=\"login__registerButton\">\r\n          Create your Amazon Account\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  // THE API (cloud function) URL\r\n  baseURL: \"https://us-central1-my-project-3d62b.cloudfunctions.net/api\",\r\n});\r\n\r\nexport default instance;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { db } from \"./firebase\";\r\nimport \"./payment.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport CheckoutProducts from \"./CheckoutProduct\";\r\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\nimport axios from \"./axios\";\r\n\r\nfunction Payment() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const navigate = useNavigate();\r\n\r\n  const getBasketTotal = (basket) =>\r\n    basket.reduce((amount, item) => item.price + amount, 0);\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const [error, setError] = useState(null);\r\n  const [disabled, setDisabled] = useState(true);\r\n\r\n  const [succeeded, setSucceeded] = useState(false);\r\n  const [processing, setProcessing] = useState(\"\");\r\n\r\n  const [clientSecret, setClientSecret] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // generate the special stripe secret which allows us to charge a customer\r\n    const getClientSecret = async () => {\r\n      const response = await axios({\r\n        method: \"post\",\r\n        // Stripe expects the total in a currencies subunits\r\n        url: `/payments/create?total=${getBasketTotal(basket) * 100}`,\r\n      });\r\n      setClientSecret(response.data.clientSecret);\r\n    };\r\n\r\n    getClientSecret();\r\n  }, [basket]);\r\n\r\n  console.log(\"THE SECRET IS >>>\", clientSecret);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setProcessing(true);\r\n\r\n    const payload = await stripe\r\n      .confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardElement),\r\n        },\r\n      })\r\n      .then(({ paymentIntent }) => {\r\n        // paymentIntent = payment confirmation\r\n\r\n        db.collection(\"users\")\r\n          .doc(user.uid)\r\n          .collection(\"orders\")\r\n          .doc(paymentIntent.id)\r\n          .set({\r\n            basket: basket,\r\n            amount: paymentIntent.amount,\r\n            created: paymentIntent.created,\r\n          });\r\n        setSucceeded(true);\r\n        setError(null);\r\n        setProcessing(false);\r\n\r\n        dispatch({\r\n          type: \"EMPTY_BASKET\",\r\n        });\r\n\r\n        navigate(\"/orders\");\r\n      });\r\n  };\r\n  const handleChange = (event) => {\r\n    setDisabled(event.empty);\r\n    setError(event.error ? event.error.message : \"\");\r\n  };\r\n  return (\r\n    <div className=\"payment\">\r\n      <div className=\"payment__container\">\r\n        <h1>\r\n          Checkout (<Link to=\"/checkout\">{basket.length} items</Link>)\r\n        </h1>\r\n\r\n        <div className=\"payment__section\">\r\n          <div className=\"payment__title\">\r\n            <h3>Delivery Address</h3>\r\n          </div>\r\n          <div className=\"payment__address\">\r\n            <p>{user.email}</p>\r\n            <p>123 React Lane</p>\r\n            <p>Chicago, IL</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"payment__section\">\r\n          <div className=\"payment__title\">\r\n            <h3>Review items and delivery</h3>\r\n          </div>\r\n          <div className=\"payment__items\">\r\n            {basket.map((item) => (\r\n              <CheckoutProducts\r\n                id={item.id}\r\n                title={item.title}\r\n                image={item.image}\r\n                price={item.price}\r\n                rating={item.rating}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"payment__section\">\r\n          <div className=\"payment__title\">\r\n            <h3>Payment Method</h3>\r\n          </div>\r\n          <div className=\"payment__details\">\r\n            <form onSubmit={handleSubmit}>\r\n              <CardElement onChange={handleChange} />\r\n              <div className=\"payment__priceContainer\">\r\n                <CurrencyFormat\r\n                  renderText={(value) => <h3>Order Total: {value}</h3>}\r\n                  decimalScale={2}\r\n                  value={getBasketTotal(basket)}\r\n                  displayType={\"text\"}\r\n                  thousandSeparator={true}\r\n                  prefix={\"$\"}\r\n                />\r\n                <button disabled={processing || disabled || succeeded}>\r\n                  <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\r\n                </button>\r\n              </div>\r\n              {error && <div>{error}</div>}\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Payment;\r\n","import React from \"react\";\r\nimport \"./order.css\";\r\nimport moment from \"moment\";\r\nimport CheckoutProducts from \"./CheckoutProduct\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\n\r\nfunction Order({ order }) {\r\n  return (\r\n    <div className=\"order\">\r\n      <h2>Order</h2>\r\n      <p>{moment.unix(order.data.created).format(\"MMMM Do YYYY, h:mma\")}</p>\r\n      <p className=\"order__id\">\r\n        <small>{order.id}</small>\r\n      </p>\r\n      {order.data.basket.map((item) => (\r\n        <CheckoutProducts\r\n          id={item.id}\r\n          title={item.title}\r\n          image={item.image}\r\n          price={item.price}\r\n          rating={item.rating}\r\n          hideButton\r\n        />\r\n      ))}\r\n      <CurrencyFormat\r\n        renderText={(value) => (\r\n          <h3 className=\"order__total\">Order Total: {value}</h3>\r\n        )}\r\n        decimalScale={2}\r\n        value={order.data.amount / 100}\r\n        displayType={\"text\"}\r\n        thousandSeparator={true}\r\n        prefix={\"$\"}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Order;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { db } from \"./firebase\";\r\nimport Header from \"./Header\";\r\nimport Order from \"./Order\";\r\nimport \"./orders.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nfunction Orders() {\r\n  const [{ user }] = useStateValue();\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      db.collection(\"users\")\r\n        .doc(user.uid)\r\n        .collection(\"orders\")\r\n        .orderBy(\"created\", \"desc\")\r\n        .onSnapshot((snapshot) =>\r\n          setOrders(\r\n            snapshot.docs.map((doc) => ({\r\n              id: doc.id,\r\n              data: doc.data(),\r\n            }))\r\n          )\r\n        );\r\n    } else {\r\n      setOrders([]);\r\n    }\r\n  }, [user]);\r\n    return (\r\n      <>\r\n        <Header />\r\n        <div className=\"orders\">\r\n          <h1>Your Orders</h1>\r\n          <div className=\"orders__order\">\r\n            {orders.map((order) => (\r\n              <Order order={order} />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n}\r\n\r\nexport default Orders;\r\n","import \"./App.css\";\nimport React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport Home from \"./Home\";\nimport Checkout from \"./Checkout\";\nimport Login from \"./Login\";\nimport { useStateValue } from \"./StateProvider\";\nimport { auth } from \"./firebase\";\nimport Payment from \"./Payment\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport Orders from \"./Orders\";\n\nconst promise = loadStripe(\n  \"pk_test_51LHHpWF84wgwWbHVcyXwGiyAscSwXgCU7wvYkIia6f8e710KMPGxhhhhLOyadxTEvwkQk0k4fnifwag4x5JQhR2e00IwjsKuqO\"\n);\n\nfunction App() {\n  const [{}, dispatch] = useStateValue();\n  useEffect(() => {\n    auth.onAuthStateChanged((authUser) => {\n      // console.log(\"THE USER IS >>> \", authUser);\n      if (authUser) {\n        // the user just logged in / the user was logged in\n\n        dispatch({\n          type: \"SET_USER\",\n          user: authUser,\n        });\n      } else {\n        // the user is logged out\n        dispatch({\n          type: \"SET_USER\",\n          user: null,\n        });\n      }\n    });\n  }, []);\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route path=\"/login\" element={<Login />}></Route>\n          <Route path=\"/payment\" element={<Elements stripe={promise}><Payment /></Elements>}></Route>\n          <Route path=\"/checkout\" element={<Checkout />} />\n          <Route path=\"/orders\" element={<Orders />} />\n          <Route path=\"/\" element={<Home />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","export const initialState = {\r\n  basket: [],\r\n  user: null,\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  //   console.log(action);\r\n  switch (action.type) {\r\n    case \"ADD_TO_BASKET\":\r\n      return {\r\n        ...state,\r\n        basket: [...state.basket, action.item],\r\n      };\r\n    case \"EMPTY_BASKET\":\r\n      return {\r\n        ...state,\r\n        basket: [],\r\n      };\r\n    case \"REMOVE_FROM_BASKET\":\r\n      const index = state.basket.findIndex(\r\n        (basketItem) => basketItem.id === action.id\r\n      );\r\n      let newBasket = [...state.basket];\r\n\r\n      if (index >= 0) {\r\n        newBasket.splice(index, 1);\r\n      } else {\r\n        console.warn(\r\n          `Cant remove product (id: ${action.id}) as its not in basket!`\r\n        );\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        basket: newBasket,\r\n      };\r\n    case \"SET_USER\":\r\n      return {\r\n        ...state,\r\n        user: action.user,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducer;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport { StateProvider } from './StateProvider';\nimport reducer, { initialState } from './reducer';\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    \n    <StateProvider initialState={initialState} reducer ={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>\n);\n\n\n"],"sourceRoot":""}